# settings
startup_message off
set historysize 100
set historycompaction 1
set historyexpansion 1
set border 1
set wingravity c

escape M-j
bind Escape abort

alias acpi exec ratpoison -c "echo `acpi`"
alias dwindows exec ratpoison -c "select `ratpoison -c windows | dmenu -i -b | sed 's/\([0-9]*\).*/\1/'`" 
alias notes exec cd $HOME/.notes && gvim `find . -type f | dmenu -i -l 15`

# External applications
bind d exec dmenu_run
bind grave notes

unbind c
bind c      exec rp-ror xterm "xterm -title xterm -e tm-aon"
bind C      exec xterm -title xterm -e tm-aon
bind e      exec rp-ror gvim
bind E      exec gvim
bind t      exec rp-ror firefox
bind T      exec firefox

bind period exec rp-ror stalonetray

bind semicolon dwindows
bind y         acpi
bind z         colon exec rp-grep 
bind Z         exec rp-grep

# application switching
# no modifier: all
# Control    : other window classes
# Shift      : same window class
bind M-j  other
bind C-j cother
bind   J iother

bind   p  prev
bind C-p cprev
bind   P iprev

bind   n  next
bind C-n cnext
bind   N inext

# store/restore frame layout
bind C-F1 exec ratpoison -c "setenv fs1 `ratpoison -c 'fdump'`"
bind C-F2 exec ratpoison -c "setenv fs2 `ratpoison -c 'fdump'`"
bind C-F3 exec ratpoison -c "setenv fs3 `ratpoison -c 'fdump'`"
bind C-F4 exec ratpoison -c "setenv fs4 `ratpoison -c 'fdump'`"
bind F1 exec ratpoison -c "frestore `ratpoison -c 'getenv fs1'`"
bind F2 exec ratpoison -c "frestore `ratpoison -c 'getenv fs2'`"
bind F3 exec ratpoison -c "frestore `ratpoison -c 'getenv fs3'`"
bind F4 exec ratpoison -c "frestore `ratpoison -c 'getenv fs4'`"

# easier to remember/type
unbind Q
bind o only

# jump between screens
bind space nextscreen

# put window on next screen
bind q exec rp-sw

# better splitting
unbind S
unbind C-S
bind S   split 2/3
bind C-S split 2/3

bind v   hsplit
bind C-v hsplit
bind V   hsplit 2/3
bind C-V hsplit 2/3

# alt-tab
definekey top M-Tab focus
definekey top M-ISO_Left_Tab focus_last
# mod4-tab for monitors
definekey top s-Tab nextscreen
definekey top s-ISO_Left_Tab prevscreen

# better redraw
bind L exec ratpoison -c "split" && ratpoison -c "undo"

# application switching
definekey top s-0 select 0
definekey top s-1 select 1
definekey top s-2 select 2
definekey top s-3 select 3
definekey top s-4 select 4
definekey top s-5 select 5
definekey top s-6 select 6
definekey top s-7 select 7
definekey top s-8 select 8
definekey top s-9 select 9
definekey top s-minus select -
