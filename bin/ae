#!/bin/zsh

Error() {
    print "Error: $1"
    exit 1
}

for i in $@; do

    [[ -f $i ]] || Error "'$i' is not a valid file"

    case $i in
        *.tar)      tar -xvf $i ;;
        # GZip
        *.tar.gz)   tar -zxvf $i ;;
        *.tgz)      tar -zxvf $i ;;
        *.gz)       gzip -d   $i ;;
        # BZip
        *.tar.bz2)  pbzip2 -dc $i | tar -x ;;
        *.tbz2)     pbzip2 -dc $i | tar -x ;;
        *.bz2)      pbzip2 -d $i ;;
        # others
        *.7z)       7z x  $i ;;
        *.rar)      unrar e $i ;;
        *.zip)      unzip $i ;;
        *.jar)      unzip $i ;;

	*)          Error "unknown fileending $i" ;;
    esac
done
