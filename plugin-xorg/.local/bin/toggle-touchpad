#! /bin/bash
# taken from https://gist.github.com/7histle/24870cd5a7bc513042c5
# bash "strict mode", see
# http://redsymbol.net/articles/unofficial-bash-strict-mode/
set -euo pipefail
IFS=$'\n\t'

id=$(xinput list \
  | grep -i Touchpad \
  | grep -Eo id='[[:digit:]]+' \
  | cut -d = -f 2)

if [[ ! $id ]]
then
  exit
fi

is_act=$(xinput list-props "$id" \
  | grep -i "Device Enable" \
  | cut -f 3)

if [ "$is_act" = "0" ]
then
  xinput set-prop "$id" "Device Enabled" 1
elif [ "$is_act" = "1" ]
then
  xinput set-prop "$id" "Device Enabled" 0
else
  echo "Error: $is_act"
fi
