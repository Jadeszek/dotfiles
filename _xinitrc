# configure keyboard
setxkbmap de -variant nodeadkeys -option compose:menu
xmodmap -e 'clear Lock' -e 'keycode 0x42 = Escape'

# configure TrackPoint
xinput set-int-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation" 8 1
xinput set-int-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Button" 8 2
xinput set-int-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Axes" 8 6 7 4 5
xinput set-int-prop "TPPS/2 IBM TrackPoint" "Evdev Middle Button Emulation" 8 1

# load settings for X
xset +fp /usr/share/fonts/local
xset fp rehash
[[ -f ~/.Xresources ]] && xrdb -merge ~/.Xresources

if [ -d /etc/X11/xinit/xinitrc.d ]; then
  for f in /etc/X11/xinit/xinitrc.d/*; do
    [ -x "$f" ] && . "$f"
  done
  unset f
fi

xsetroot -cursor_name left_ptr
numlockx

DEFAULT_SESSION=i3

case $1 in
i3)
    exec i3
    ;;
openbox)
    exec openbox-session
    ;;
gnome)
    exec gnome-session
    ;;
*)
    exec $DEFAULT_SESSION
    ;;
esac
